<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="../hw_main_pages.css">
        <link rel="stylesheet" type="text/css" href="../hw_link_pages.css">
        <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.1/jquery.validate.min.js"></script>
        <script src="hw4_scripts.js"></script>
        <meta name="description" content="CLIN's CNIT 133 Homework 4 Part 1.">
        <title>HW4-Part3 Retail Sales</title>
        <script>
            var usdOption={style: "currency", currency: "USD"};
            

            $(document).ready(function(){
                $('#salesEntryForm').validate({
                    rules:{
                        itemIn: {required: true, digits: true, min: 1, max: 5},
                        qtyIn:  {required: true, digits: true, min: 1}
                    }
                });

            });
            
            function insertProduct(tItemNum, tItemQty){
                var myTable = document.getElementById("salesOutputTable"), suffix, tAmt = 0.0,tCurNum; 
                    // myOutputTbl = document.getElementById("SalesEntryForm");
                switch(tItemNum) {
                    case '1':
                        myCost = myTable.rows[1].cells[2].innerHTML;
                        document.forms["salesEntryForm"].elements["sItem1"].value = Number(tItemQty).toLocaleString(undefined);
                        document.forms["salesEntryForm"].elements["s1Sold"].value = (tItemQty*myCost).toLocaleString('en', usdOption);
                        break;
                    case '2':
                        myCost = myTable.rows[2].cells[2].innerHTML;
                        document.forms["salesEntryForm"].elements["sItem2"].value = Number(tItemQty).toLocaleString(undefined);
                        document.forms["salesEntryForm"].elements["s2Sold"].value = (tItemQty*myCost).toLocaleString('en', usdOption);
                        break;
                    case '3':
                        myCost = myTable.rows[3].cells[2].innerHTML;
                        document.forms["salesEntryForm"].elements["sItem3"].value = Number(tItemQty).toLocaleString(undefined);
                        document.forms["salesEntryForm"].elements["s3Sold"].value = (tItemQty*myCost).toLocaleString('en', usdOption);
                        break;
                    case '4':
                        myCost = myTable.rows[4].cells[2].innerHTML;
                        document.forms["salesEntryForm"].elements["sItem4"].value = Number(tItemQty).toLocaleString(undefined);
                        document.forms["salesEntryForm"].elements["s4Sold"].value = (tItemQty*myCost).toLocaleString('en', usdOption);
                        break;
                    case '5':
                        myCost = myTable.rows[5].cells[2].innerHTML;
                        document.forms["salesEntryForm"].elements["sItem5"].value =  Number(tItemQty).toLocaleString(undefined);
                        document.forms["salesEntryForm"].elements["s5Sold"].value = (tItemQty*myCost).toLocaleString('en', usdOption);
                        break;
                }
                
               for (suffix = 1; suffix <= 5; suffix++){
                    tCurNum = document.forms["salesEntryForm"].elements["s" + suffix + "Sold"].value.replace('$', '').replace(/,/g, '');
                    tAmt += Number(tCurNum);
                }

              document.forms["salesEntryForm"].elements["tSold"].value = tAmt.toLocaleString('en', usdOption); 

            }
        </script>

    </head>

    <body>
        <section>
            <h1>HW4 Part 3 - Retail Sales</h1>
            <script>createNavMenu();</script> 
            <form id="salesEntryForm">
                <table id="salesEntryTable">
                    <tr>
                        <td><label for="itemIn">Enter Product Number (1 through 5)</label></td>
                        <td><input type="number" id="itemIn" name="itemIn" 
                                   class="nums" size="10" autocomplete="off"></td>
                    </tr>
                    <tr>
                        <td><label for="qtyIn">Enter number of items sold</label></td>
                        <td><input type="number" id="qtyIn" name="qtyIn" 
                                   class="nums" size="10" autocomplete="off"></td>
                    </tr>
                    <tr>
                        <td>
                            <input type="button" value="INSERT" onclick="insertProduct(document.getElementById('itemIn').value, 
                                                                                       document.getElementById('qtyIn').value)">
                        </td>
                        <td>
                            <input type="reset" value="RESET">
                        </td>
                    </tr>
                </table>

                <table id="salesOutputTable">
                    <thead>
                    <tr>
                        <td>Product #</td>
                        <td>Qty</td>
                        <td>Price</td>
                        <td>Amount</td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td><label for="sItem1">1</label></td>
                        <td><input type="text" id="sItem1" name="sItem1"
                                   class="nums" size="10" disabled = "disabled"></td>
                        <td class="dollars nums">2.98</td>
                        <td><input type="text" id="s1Sold" name="s1Sold"
                                   class="nums" size="10" disabled = "disabled"></td>
                    </tr>
                    <tr>
                        <td><label for="sItem2">2</label></td>
                         <td><input type="text" id="sItem2" name="sItem2"
                                   class="nums" size="10" disabled = "disabled"></td>
                        <td class="dollars nums">4.50</td>
                        <td><input type="text" id="s2Sold" name="s2Sold"
                                   class="nums" size="10" disabled = "disabled"></td>
                    </tr>
                    <tr>
                        <td><label for="sItem3">3</label></td>
                        <td><input type="text" id="sItem3" name="sItem3"
                                   class="nums" size="10" disabled = "disabled"></td>
                        <td class="dollars nums">9.98</td>
                        <td><input type="text" id="s3Sold" name="s3Sold"
                                   class="nums" size="10" disabled = "disabled"></td>
                    </tr>
                    <tr>
                        <td><label for="sItem4">4</label></td>
                        <td><input type="text" id="sItem4" name="sItem4"
                                   class="nums" size="10" disabled = "disabled"></td>
                        <td class="dollars nums">4.49</td>
                        <td><input type="text" id="s4Sold" name="s4Sold"
                                   class="nums" size="10" disabled = "disabled"></td>
                    </tr>
                    <tr>
                        <td><label for="sItem5">5</label></td>
                        <td><input type="text" id="sItem5" name="sItem5"
                                   class="nums" size="10" disabled = "disabled"></td>
                        <td class="dollars nums">6.87</td>
                        <td><input type="text" id="s5Sold" name="s5Sold"
                                   class="nums" size="10" disabled = "disabled"></td>
                    </tr>
                    <tr>
                        <td colspan="3">
                            <label for="tSold">Total Amount Sold:</label>
                        </td>
                        <td><input type="text" id="tSold" name="tSold"
                                   class="nums" size="10" disabled = "disabled">
                        </td>
                    </tr>
                </tbody>
            </table>
        </form>
            
        </section>

    </body>

</html>